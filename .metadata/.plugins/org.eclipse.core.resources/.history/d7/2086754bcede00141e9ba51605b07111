package com.panerabread.auit.pages.concrete;

import org.openqa.selenium.By;
//import org.openqa.selenium.WebElement;

//import org.openqa.selenium.WebElement;


import com.panerabread.auit.pages.MenuCategory;
import com.panerabread.auit.webdriverutils.AdvancedWebDriver;

public class DefaultMenuCategory extends BasePageWithMenuFrame implements
		MenuCategory {

	private final String //GET_ITEM_BOX_FORMAT = "return .dropdown-toggle;",
			ORDER_BTN="return (function b(){ return (function a(itemId){ var foundItem= null; Array.prototype.slice.call(document.querySelectorAll('.col-xs-8')).forEach(function(itemPlacard) {if(itemPlacard.innerHTML.indexOf(itemId) > 0) {foundItem= itemPlacard;}}); return foundItem;})('%s').parentElement.parentElement.parentElement.parentElement.parentElement.getElementsByClassName('btn-primary')[0]})();";

	public DefaultMenuCategory(AdvancedWebDriver driver) {
		super(driver);
	}

	public MenuCategory orderItem(String name) {
		//WebElement itemBox = getItemBox(name);
		driver().clickByJavascript(String.format(this.ORDER_BTN, name));
		return this;
	}
	
	/*private WebElement getItemBox(String name){
		return driver().findByJavascript(String.format(this.GET_ITEM_BOX_FORMAT, name));
	}*/

}
